@{
        ViewBag.Title = "Contact Us";
}
<div class="financity-page-title-wrap  financity-style-custom financity-left-align">
    <div class="financity-header-transparent-substitute"></div>
    <div class="financity-page-title-overlay"></div>
    <div class="financity-page-title-container financity-container">
        <div class="financity-page-title-content financity-item-pdlr">
            <h1 class="financity-page-title" style="text-align: center;">Contact Us</h1>
        </div>
    </div>
</div>
<div class="gdlr-core-pbf-wrapper " style="margin:10px;">
    <div class="gdlr-core-pbf-wrapper-content gdlr-core-js ">
        <div class="gdlr-core-pbf-wrapper-container clearfix gdlr-core-container">
            <div class="gdlr-core-pbf-column gdlr-core-column-20 gdlr-core-column-first">
                <div class="gdlr-core-pbf-column-content-margin gdlr-core-js " style="padding: 50px 20px 0px 20px;">
                    <div class="gdlr-core-pbf-column-content clearfix gdlr-core-js " data-gdlr-animation="fadeInUp" data-gdlr-animation-duration="600ms" data-gdlr-animation-offset="0.8">
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-icon-item gdlr-core-item-pdlr gdlr-core-item-pdb gdlr-core-left-align" style="padding-bottom: 45px;"><i class=" gdlr-core-icon-item-icon fa fa-phone" style="color: #454545;font-size: 40px;min-width: 40px;min-height: 40px;"></i></div>
                        </div>
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-title-item gdlr-core-item-pdb clearfix  gdlr-core-left-align gdlr-core-title-item-caption-top gdlr-core-item-pdlr" style="padding-bottom: 25px;">
                                <div class="gdlr-core-title-item-title-wrap ">
                                    <h3 class="gdlr-core-title-item-title gdlr-core-skin-title " style="font-size: 26px;font-weight: 600;letter-spacing: 0px;text-transform: none;">Phone<span class="gdlr-core-title-item-title-divider gdlr-core-skin-divider"></span></h3>
                                </div>
                            </div>
                        </div>
                        @*<div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-text-box-item gdlr-core-item-pdlr gdlr-core-item-pdb gdlr-core-left-align" style="padding-bottom: 0px;">
                                <div class="gdlr-core-text-box-item-content" style="font-size: 16px;">
                                    <p>A wonderful serenity has taken possession of my entire soul, like these.</p>
                                </div>
                            </div>
                        </div>*@
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-text-box-item gdlr-core-item-pdlr gdlr-core-item-pdb gdlr-core-left-align">
                                <div class="gdlr-core-text-box-item-content" style="font-size: 16px;">
                                    <p><a href="tel:0212083152">0 21 208 3152</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="gdlr-core-pbf-column gdlr-core-column-20">
                <div class="gdlr-core-pbf-column-content-margin gdlr-core-js " style="padding: 50px 20px 0px 20px;">
                    <div class="gdlr-core-pbf-column-content clearfix gdlr-core-js " data-gdlr-animation="fadeInDown" data-gdlr-animation-duration="600ms" data-gdlr-animation-offset="0.8">
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-icon-item gdlr-core-item-pdlr gdlr-core-item-pdb gdlr-core-left-align" style="padding-bottom:  45px;"><i class=" gdlr-core-icon-item-icon fa fa-envelope-o" style="color: #454545;font-size: 40px;min-width: 40px;min-height: 40px;"></i></div>
                        </div>
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-title-item gdlr-core-item-pdb clearfix  gdlr-core-left-align gdlr-core-title-item-caption-top gdlr-core-item-pdlr" style="padding-bottom: 25px;">
                                <div class="gdlr-core-title-item-title-wrap ">
                                    <h3 class="gdlr-core-title-item-title gdlr-core-skin-title " style="font-size: 26px;font-weight: 600;letter-spacing: 0px;text-transform: none;">Email<span class="gdlr-core-title-item-title-divider gdlr-core-skin-divider"></span></h3>
                                </div>
                            </div>
                        </div>
                        @*<div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-text-box-item gdlr-core-item-pdlr gdlr-core-item-pdb gdlr-core-left-align" style="padding-bottom: 0px;">
                                <div class="gdlr-core-text-box-item-content" style="font-size: 16px;">
                                    <p>A wonderful serenity has taken possession of my entire soul, like these.</p>
                                </div>
                            </div>
                        </div>*@
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-text-box-item gdlr-core-item-pdlr gdlr-core-item-pdb gdlr-core-left-align">
                                <div class="gdlr-core-text-box-item-content" style="font-size: 16px;">
                                    <p><a href="mailto:admin@skfinance.co.nz">admin@skfinance.co.nz</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="gdlr-core-pbf-column gdlr-core-column-20">
                <div class="gdlr-core-pbf-column-content-margin gdlr-core-js " style="padding: 50px 20px 0px 20px;">
                    <div class="gdlr-core-pbf-column-content clearfix gdlr-core-js " data-gdlr-animation="fadeInUp" data-gdlr-animation-duration="600ms" data-gdlr-animation-offset="0.8">
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-icon-item gdlr-core-item-pdlr gdlr-core-item-pdb gdlr-core-left-align" style="padding-bottom: 45px;"><i class=" gdlr-core-icon-item-icon fa fa-location-arrow" style="color: #454545;font-size: 40px;min-width: 40px;min-height: 40px;"></i></div>
                        </div>
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-title-item gdlr-core-item-pdb clearfix  gdlr-core-left-align gdlr-core-title-item-caption-top gdlr-core-item-pdlr" style="padding-bottom: 25px;">
                                <div class="gdlr-core-title-item-title-wrap ">
                                    <h3 class="gdlr-core-title-item-title gdlr-core-skin-title " style="font-size: 26px;font-weight: 600;letter-spacing: 0px;text-transform: none;">Location<span class="gdlr-core-title-item-title-divider gdlr-core-skin-divider"></span></h3>
                                </div>
                            </div>
                        </div>
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-text-box-item gdlr-core-item-pdlr gdlr-core-item-pdb gdlr-core-left-align" style="padding-bottom: 0px;">
                                <div class="gdlr-core-text-box-item-content" style="font-size: 16px;">
                                    <p>
                                        Unit 1 /54 Wordsworth street Sydenham,
                                        <br>  Christchurch 8061, New Zealand
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-text-box-item gdlr-core-item-pdlr gdlr-core-item-pdb gdlr-core-left-align">
                                <div class="gdlr-core-text-box-item-content" style="font-size: 16px;">
                                    <p><a href="#">View On Google Map</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="gdlr-core-pbf-wrapper " style="padding: 95px 0px 50px 0px;" data-skin="Contact Form White">
    <div class="gdlr-core-pbf-background-wrap" style="background-color: #f3f3f3 ;"></div>
    <div class="gdlr-core-pbf-wrapper-content gdlr-core-js ">
        <div class="gdlr-core-pbf-wrapper-container clearfix gdlr-core-container">
            <div class="gdlr-core-pbf-column gdlr-core-column-60 gdlr-core-column-first">
                <div class="gdlr-core-pbf-column-content-margin gdlr-core-js ">
                    <div class="gdlr-core-pbf-column-content clearfix gdlr-core-js " style="max-width: 80%;">
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-title-item gdlr-core-item-pdb clearfix  gdlr-core-center-align gdlr-core-title-item-caption-bottom gdlr-core-item-pdlr">
                                <div class="gdlr-core-title-item-title-wrap ">
                                    <h3 class="gdlr-core-title-item-title gdlr-core-skin-title " style="font-size: 39px;font-weight: 600;letter-spacing: 0px;text-transform: none;">Leave us your info <span class="gdlr-core-title-item-title-divider gdlr-core-skin-divider"></span></h3>
                                </div><span class="gdlr-core-title-item-caption gdlr-core-info-font gdlr-core-skin-caption" style="font-size: 19px;font-style: normal;">and we will get back to you.</span>
                            </div>
                        </div>
                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-divider-item gdlr-core-item-pdlr gdlr-core-item-pdb gdlr-core-divider-item-normal" style="padding-bottom: 50px;">
                                <div class="gdlr-core-divider-container gdlr-core-center-align" style="max-width: 40px;">
                                    <div class="gdlr-core-divider-line gdlr-core-skin-divider" style="border-color: #2b2b2b;border-bottom-width: 2px;"></div>
                                </div>
                            </div>
                        </div>

                        <div class="gdlr-core-pbf-element">
                            <div class="gdlr-core-contact-form-7-item gdlr-core-item-pdlr gdlr-core-item-pdb ">
                                <div role="form" class="wpcf7" id="wpcf7-f1319-p1964-o1" lang="en-US" dir="ltr">
                                    <div class="screen-reader-response"></div>
                                    <form id="contactus" class="quform" action="/home/SendEmail" method="POST">
                                        @Html.AntiForgeryToken()
                                        <input type="text" name="website" style="display:none;">
                                        <div class="quform-elements gdlr-core-input-wrap gdlr-core-large gdlr-core-full-width gdlr-core-with-column gdlr-core-no-border">
                                            <div class="gdlr-core-column-20">
                                                <span class="quform-element">
                                                    <input id="name" type="text" name="name" value="" size="40"
                                                           class="wpcf7-form-control wpcf7-text wpcf7-validates-as-required"
                                                           aria-required="true" aria-invalid="false" placeholder="Full Name*"
                                                           oninput="this.value=this.value.replace(/[^a-zA-Z\s]/g,'');"
                                                           style="border: 1px solid #ccc; padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px;">
                                                    <span class="text-danger" style="color: red; font-size: 0.9em; margin-top: 5px;"></span>
                                                </span>
                                            </div>
                                            <div class="gdlr-core-column-20">
                                                <span class="quform-element">
                                                    <input id="email" type="text" name="email" value="" size="40"
                                                           class="wpcf7-form-control wpcf7-text wpcf7-validates-as-required wpcf7-validates-as-email"
                                                           aria-required="true" aria-invalid="false" placeholder="Email*"
                                                           style="border: 1px solid #ccc; padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px;">
                                                    <span class="text-danger" style="color: red; font-size: 0.9em; margin-top: 5px;"></span>
                                                </span>
                                            </div>
                                            <div class="gdlr-core-column-20">
                                                <span class="quform-element">
                                                    <input id="phonenumber" type="text" name="phonenumber" value="" size="40"
                                                           class="wpcf7-form-control wpcf7-text wpcf7-validates-as-required"
                                                           aria-required="true" aria-invalid="false" placeholder="Phone Number*"
                                                           oninput="this.value=this.value.replace(/[^0-9]/g,'');"
                                                           style="border: 1px solid #ccc; padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px;">
                                                    <span class="text-danger" style="color: red; font-size: 0.9em; margin-top: 5px;"></span>
                                                </span>
                                            </div>
                                            <div class="clear"></div>
                                            <div class="gdlr-core-column-60">
                                                <span class="quform-element">
                                                    <textarea id="message" name="message" cols="40" rows="10"
                                                              class="wpcf7-form-control wpcf7-textarea wpcf7-validates-as-required"
                                                              aria-required="true" aria-invalid="false" placeholder="Message*"
                                                              style="border: 1px solid #ccc; padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px;"></textarea>
                                                    <span class="text-danger" style="color: red; font-size: 0.9em; margin-top: 5px;"></span>
                                                </span>
                                            </div>
                                            <div class="gdlr-core-column-60 gdlr-core-center-align">
                                                <div id="captchaContainer" style="margin-bottom: 10px;">THis</div>
                                                <input type="text"
                                                       id="cpatchaTextBox"
                                                       placeholder="Enter Captcha"
                                                       style="width: 33%; padding: 12px 20px; display: inline-block; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; margin-bottom: 10px;" />
                                            </div>
                                            <div class="gdlr-core-column-60 gdlr-core-center-align">
                                                <div class="quform-submit">
                                                    <div class="quform-submit-inner">
                                                        <button type="submit" class="submit-button" id="submitButton" disabled>
                                                            <span>Submit Now</span>
                                                        </button>
                                                    </div>
                                                    <div class="quform-loading-wrap"><span class="quform-loading"></span></div>
                                                </div>
                                            </div>

                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="gdlr-core-pbf-wrapper " style="padding: 0px 0px 0px 0px;">
    <div class="gdlr-core-pbf-wrapper-content gdlr-core-js ">
        <div class="gdlr-core-pbf-wrapper-container clearfix gdlr-core-pbf-wrapper-full-no-space">
            <div class="gdlr-core-pbf-element">
                <div class="gdlr-core-wp-google-map-plugin-item gdlr-core-item-pdlr gdlr-core-item-pdb " style="padding-bottom: 0px;">
                    <div class="mapouter">
                        <div class="gmap_canvas">
                            <iframe style="width: 100%; height:400px" id="gmap_canvas" src="https://maps.google.com/maps?q=54+Wordsworth+Street%2C+Sydenham%2C+Christchurch+8023%2C+New+Zealand&t=&z=13&ie=UTF8&iwloc=&output=embed" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>
                            <br><a href="https://www.time-date.net"></a><br>
                            <style>
                                .mapouter {
                                    position: relative;
                                    text-align: right;
                                    height: 400px;
                                    width: 100%;
                                }
                            </style>
                            <style>
                                .gmap_canvas {
                                    overflow: hidden;
                                    background: none !important;
                                    height: 400px;
                                    width: 100%;
                                }
                            </style>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="gdlr-core-pbf-wrapper " style="padding: 80px 0px 50px 0px;">
    <div class="gdlr-core-pbf-background-wrap" style="background-color: #ffffff ;"></div>
    <div class="gdlr-core-pbf-wrapper-content gdlr-core-js ">
        <div class="gdlr-core-pbf-wrapper-container clearfix gdlr-core-container">
            <div class="gdlr-core-pbf-element">
                <div class="gdlr-core-social-network-item gdlr-core-item-pdb  gdlr-core-center-align gdlr-core-item-pdlr">
                    <a href="mailto:admin@skfinance.co.nz" target="_blank" class="gdlr-core-social-network-icon" title="email" style="font-size: 20px;color: #1e1e1e;"><i class="fa fa-envelope"></i></a>
                    <a href="https://www.facebook.com/Sandeepkhanna.mortgages" target="_blank" class="gdlr-core-social-network-icon" title="facebook" style="font-size: 20px;color: #1e1e1e;margin-left: 40px;"><i class="fa fa-facebook"></i></a>
                    <a href="https://www.instagram.com/skmortgagesnz/?igsh=bXM1cDZja3Q2dmNp" target="_blank" class="gdlr-core-social-network-icon" title="instagram" style="font-size: 20px;color: #1e1e1e;margin-left: 40px;"><i class="fa fa-instagram"></i></a>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Select input elements
        const nameInput = document.getElementById("name");
        const emailInput = document.getElementById("email");
        const phoneInput = document.getElementById("phonenumber");
        const messageInput = document.getElementById("message");
        const submitButton = document.getElementById("submitButton");

        // Attach validation functions
        [nameInput, emailInput, phoneInput, messageInput].forEach(input => {
            input.addEventListener("blur", () => validateInput(input));
            input.addEventListener("input", () => validateInput(input));
        });

        // Validation Functions
        function validateInput(input) {
            const errorSpan = input.nextElementSibling;
            let isValid = true;

            switch(input.id) {
                case "name":
                    isValid = /^[a-zA-Z\s]+$/.test(input.value.trim());
                    errorSpan.textContent = isValid ? "" : "Name can only contain letters and spaces (no numbers or symbols)";
                    break;
                case "email":
                    const emailRegex = /^[^\s@{}]+@{}[^\s@{}]+\.[^\s@{}]+$/;
                    isValid = emailRegex.test(input.value.trim());
                    errorSpan.textContent = isValid ? "" : "Enter a valid email address";
                    break;
                case "phonenumber":
                    const phoneRegex = /^\d{10}$/;
                    isValid = phoneRegex.test(input.value.trim());
                    errorSpan.textContent = isValid ? "" : "Phone number must be exactly 10 digits";
                    break;
                case "message":
                    isValid = input.value.trim().length >= 10;
                    errorSpan.textContent = isValid ? "" : "Message must be at least 10 characters long";
                    break;
            }

            input.classList.toggle("error", !isValid);
            validateForm();
        }

        // Validate the form to enable/disable submit button
        function validateForm() {
            const allValid = [nameInput, emailInput, phoneInput, messageInput].every(input => !input.classList.contains("error") && input.value.trim());
            submitButton.disabled = !allValid;
        }

  function createCaptcha() {
    // now you can assign to code safely
    document.getElementById('captchaContainer').innerHTML = "";

    const charsArray = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\s@{}" + "!#$%^&*";
    const captchaLength = 6;
    let captcha = [];

    while (captcha.length < captchaLength) {
      const char = charsArray.charAt(Math.floor(Math.random() * charsArray.length));
      if (!captcha.includes(char)) captcha.push(char);
    }

    const canvas = document.createElement("canvas");
    canvas.width = 100;
    canvas.height = 50;
    canvas.style.pointerEvents = "none";

    const ctx = canvas.getContext("2d");

    // Draw background (optional)
    ctx.fillStyle = "#000"; // black background
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Draw captcha text
    ctx.font = "25px Georgia";
    ctx.fillStyle = "white";
    const captchaText = captcha.join("");
    ctx.fillText(captchaText, 0, 30);

    // Draw random strike-through lines with random angles and positions
    ctx.strokeStyle = "red"; // color of strike-through lines
    ctx.lineWidth = 1.5;

    const numberOfLines = 5; // number of random strike-through lines

    for (let i = 0; i < numberOfLines; i++) {
      // Random start point anywhere on the canvas
      const startX = Math.random() * canvas.width;
      const startY = Math.random() * canvas.height;

      // Random angle in radians between -45° and 45° (approx)
      const angle = (Math.random() * 90 - 45) * (Math.PI / 180);

      // Random length between 50 and 100 pixels
      const length = 50 + Math.random() * 50;

      // Calculate end point based on angle and length
      const endX = startX + length * Math.cos(angle);
      const endY = startY + length * Math.sin(angle);

      // Draw the line
      ctx.beginPath();
      ctx.moveTo(startX, startY);
      ctx.lineTo(endX, endY);
      ctx.stroke();
    }
        code = captcha.join("");
        document.getElementById("captchaContainer").appendChild(canvas);
    }

  function validateCaptcha(event) {
     event.preventDefault();

    const userInput = document.getElementById('cpatchaTextBox').value;
      if (userInput === code) {
          validateForm();
          document.getElementById("submitButton").disabled = false;
      event.target.submit();
      } else {
          validateForm();
      alert("Invalid Captcha. Try Again.");
      createCaptcha();
      document.getElementById('cpatchaTextBox').value = "";
    }
  }

  createCaptcha();


        document.getElementById("contactus").addEventListener("submit", validateCaptcha);
        // Attach validation functions
        [nameInput, emailInput, phoneInput, messageInput].forEach(input => {
            input.addEventListener("blur", () => validateInput(input));
            input.addEventListener("input", () => validateInput(input));
        });
    });
</script>
